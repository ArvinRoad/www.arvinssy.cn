{"title":"Three.Js开发WebGL创建几何体及灯光","uid":"c5d768a47af4502a09d48bf7f4ff02d4","slug":"ThreeJsWebGL_2022_4.19.02","date":"2022-04-19T09:12:00.000Z","updated":"2023-11-26T10:38:32.669Z","comments":true,"path":"api/articles/ThreeJsWebGL_2022_4.19.02.json","keywords":null,"cover":"https://pic3.zhimg.com/v2-7af105b5915de8a7fdcf6332b681aba5_r.jpg","content":"<h1 id=\"Three-Js开发WebGL创建几何体及灯光\"><a href=\"#Three-Js开发WebGL创建几何体及灯光\" class=\"headerlink\" title=\"Three.Js开发WebGL创建几何体及灯光\"></a>Three.Js开发WebGL创建几何体及灯光</h1><blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>Three.Js GitHub地址：<a href=\"https://github.com/mrdoob/three.js\">点击跳转</a></p></blockquote>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>Three.Js API说明文档：<a href=\"https://threejs.org/docs/index.html#manual/zh/introduction/Creating-a-scene\">点击跳转</a></p></blockquote>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>或复制网页端Three.js源码使用：<a href=\"https://threejs.org/build/three.js\">点击跳转</a></p></blockquote>\n<h2 id=\"WEBGL-三维几何体及灯光的创建-放置在Script标签下-：\"><a href=\"#WEBGL-三维几何体及灯光的创建-放置在Script标签下-：\" class=\"headerlink\" title=\"WEBGL 三维几何体及灯光的创建(放置在Script标签下)：\"></a>WEBGL 三维几何体及灯光的创建(放置在Script标签下)：</h2><pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\"> &#x2F;&#x2F; 添加立方体\nvar cubeGeometry &#x3D; new THREE.BoxGeometry(4,4,4);\nvar cubeMaterial &#x3D; new THREE.MeshLambertMaterial(&#123;color: 0xFFB6C1&#125;); &#x2F;&#x2F; 添加网格材质\nvar cube &#x3D; new THREE.Mesh(cubeGeometry,cubeMaterial);\ncube.position.x &#x3D; 0;\ncube.position.y &#x3D; 5;\ncube.position.z &#x3D; 2;\n&#x2F;&#x2F; 球体\nvar sphereGeometry &#x3D; new THREE.SphereGeometry(4,20,20);\nvar sphereMaterial &#x3D; new THREE.MeshLambertMaterial(&#123;color: 0xFFB6C1&#125;);\nvar Sphere &#x3D; new THREE.Mesh(sphereGeometry,sphereMaterial);\nSphere.position.x &#x3D; 10;\nSphere.position.y &#x3D; 4;\nSphere.position.z &#x3D; 2;\n&#x2F;&#x2F; 对象是否渲染到阴影贴图\ncube.castShadow &#x3D; true;\nSphere.castShadow &#x3D; true;\nscene.add(cube)\nscene.add(Sphere);\n\n&#x2F;&#x2F; 创建添加聚光灯\nvar spotLight &#x3D; new THREE.SpotLight(0xFFFFFF);\nspotLight.position.set(130,130,-130);\nspotLight.castShadow &#x3D; true;\nscene.add(spotLight);</code></pre>\n\n<p>阴影属性设置</p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\">&#x2F;&#x2F; 设置渲染物体阴影\nrenderer.shadowMapEnabled &#x3D; true;\n&#x2F;&#x2F; 设置地面接收阴影\nplane.castShadow &#x3D; true;\nplane.receiveShadow &#x3D; true;</code></pre>\n\n<h2 id=\"完整实例代码：\"><a href=\"#完整实例代码：\" class=\"headerlink\" title=\"完整实例代码：\"></a>完整实例代码：</h2><pre class=\"line-numbers language-markup\" data-language=\"markup\"><code class=\"language-markup\">&lt;!doctype html&gt;\n&lt;html lang&#x3D;&quot;zh-CN&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset&#x3D;&quot;UTF-8&quot;&gt;\n    &lt;meta name&#x3D;&quot;viewport&quot; content&#x3D;&quot;width&#x3D;device-width, user-scalable&#x3D;no, initial-scale&#x3D;1.0, maximum-scale&#x3D;1.0, minimum-scale&#x3D;1.0&quot;&gt;\n    &lt;meta http-equiv&#x3D;&quot;X-UA-Compatible&quot; content&#x3D;&quot;IE&#x3D;Edge&quot;&gt;\n    &lt;title&gt;Demo-01&lt;&#x2F;title&gt;\n    &lt;script src&#x3D;&quot;libs&#x2F;Three.js&quot;&gt;&lt;&#x2F;script&gt;\n    &lt;style&gt;\n        body&#123;\n            margin: 0;\n            overflow: hidden;\n        &#125;\n    &lt;&#x2F;style&gt;\n&lt;&#x2F;head&gt;\n\n&lt;body&gt;\n\n&lt;div id&#x3D;&quot;webGl-output&quot;&gt;\n\n&lt;&#x2F;div&gt;\n\n&lt;!-- Script --&gt;\n&lt;script&gt;\n    function init()&#123;\n        &#x2F;&#x2F; 创建场景\n        var scene &#x3D; new THREE.Scene();\n        &#x2F;&#x2F; 设置摄像机 (45度,长宽比&lt;当前屏幕宽&#x2F;屏幕高&gt;,最近可视距离,最远可视距离)\n        var camera &#x3D; new THREE.PerspectiveCamera(45,window.innerWidth&#x2F;window.innerHeight,0.1,2000);\n        &#x2F;&#x2F; 创建渲染器\n        var renderer &#x3D; new THREE.WebGLRenderer();\n        &#x2F;&#x2F; 渲染器初始化颜色\n        renderer.setClearColor(new THREE.Color(0xEEEEEE));\n        &#x2F;&#x2F; 渲染输出 Canvas 画面大小\n        renderer.setSize(window.innerWidth,window.innerHeight);\n        &#x2F;&#x2F; 设置渲染物体阴影\n        renderer.shadowMapEnabled &#x3D; true;\n        &#x2F;&#x2F; 创建显示卡迪坐标轴\n        var axes &#x3D; new THREE.AxesHelper(20);\n        &#x2F;&#x2F; 添加坐标系到场景\n        scene.add(axes);\n        &#x2F;&#x2F; 场景创建平面(地面几何体)\n        var planeGeometry &#x3D; new THREE.PlaneGeometry(60,20);\n        &#x2F;&#x2F; 设置平面(地面)材质\n        var PlaneMaterial &#x3D; new THREE.MeshBasicMaterial(&#123;color:0xCCCCCC&#125;);\n        &#x2F;&#x2F; 创建地面 通过 THREE.Mesh 进行结合操作\n        var plane &#x3D; new THREE.Mesh(planeGeometry,PlaneMaterial);\n        &#x2F;&#x2F; 物体位移坐标\n        plane.rotation.x &#x3D; -0.5*Math.PI;\n        plane.position.x &#x3D; 0;\n        plane.position.y &#x3D; 0;\n        plane.position.z &#x3D; 0;\n        &#x2F;&#x2F;- 设置地面接收阴影\n        plane.castShadow &#x3D; true;\n        plane.receiveShadow &#x3D; true;\n        &#x2F;&#x2F; 将地面添加到场景\n        scene.add(plane);\n\n        &#x2F;&#x2F; 添加立方体\n        var cubeGeometry &#x3D; new THREE.BoxGeometry(4,4,4);\n        var cubeMaterial &#x3D; new THREE.MeshLambertMaterial(&#123;color: 0xFFB6C1&#125;); &#x2F;&#x2F; 添加网格材质\n        var cube &#x3D; new THREE.Mesh(cubeGeometry,cubeMaterial);\n        cube.position.x &#x3D; 0;\n        cube.position.y &#x3D; 5;\n        cube.position.z &#x3D; 2;\n        &#x2F;&#x2F; 球体\n        var sphereGeometry &#x3D; new THREE.SphereGeometry(4,20,20);\n        var sphereMaterial &#x3D; new THREE.MeshLambertMaterial(&#123;color: 0xFFB6C1&#125;);\n        var Sphere &#x3D; new THREE.Mesh(sphereGeometry,sphereMaterial);\n        Sphere.position.x &#x3D; 10;\n        Sphere.position.y &#x3D; 4;\n        Sphere.position.z &#x3D; 2;\n        &#x2F;&#x2F; 对象是否渲染到阴影贴图\n        cube.castShadow &#x3D; true;\n        Sphere.castShadow &#x3D; true;\n        scene.add(cube)\n        scene.add(Sphere);\n\n        &#x2F;&#x2F; 创建添加聚光灯\n        var spotLight &#x3D; new THREE.SpotLight(0xFFFFFF);\n        spotLight.position.set(130,130,-130);\n        spotLight.castShadow &#x3D; true;\n        scene.add(spotLight);\n\n        &#x2F;&#x2F; 定位摄影机视角指向场景中心点\n        camera.position.x &#x3D; 30;\n        camera.position.y &#x3D; 30;\n        camera.position.z &#x3D; 30;\n        camera.lookAt(scene.position)\n        &#x2F;&#x2F; 渲染器输出添加至 HTML\n        document.getElementById(&#39;webGl-output&#39;).appendChild(renderer.domElement);\n        &#x2F;&#x2F; 最终渲染\n        renderer.render(scene,camera);\n    &#125;\n    window.onload &#x3D; init    &#x2F;&#x2F; 全部加载完成后运行\n&lt;&#x2F;script&gt;\n&lt;&#x2F;body&gt;\n&lt;&#x2F;html&gt;</code></pre>","text":"Three.Js开发WebGL创建几何体及灯光 Three.Js GitHub地址：点击跳转 Three.Js API说明文档：点击跳转 或复制网页端Three...","link":"","photos":[],"count_time":{"symbolsCount":"5.1k","symbolsTime":"5 mins."},"categories":[{"name":"程序","slug":"程序","count":29,"path":"api/categories/程序.json"}],"tags":[{"name":"教学文档","slug":"教学文档","count":33,"path":"api/tags/教学文档.json"},{"name":"博客网站","slug":"博客网站","count":6,"path":"api/tags/博客网站.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#Three-Js%E5%BC%80%E5%8F%91WebGL%E5%88%9B%E5%BB%BA%E5%87%A0%E4%BD%95%E4%BD%93%E5%8F%8A%E7%81%AF%E5%85%89\"><span class=\"toc-text\">Three.Js开发WebGL创建几何体及灯光</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#WEBGL-%E4%B8%89%E7%BB%B4%E5%87%A0%E4%BD%95%E4%BD%93%E5%8F%8A%E7%81%AF%E5%85%89%E7%9A%84%E5%88%9B%E5%BB%BA-%E6%94%BE%E7%BD%AE%E5%9C%A8Script%E6%A0%87%E7%AD%BE%E4%B8%8B-%EF%BC%9A\"><span class=\"toc-text\">WEBGL 三维几何体及灯光的创建(放置在Script标签下)：</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%AE%8C%E6%95%B4%E5%AE%9E%E4%BE%8B%E4%BB%A3%E7%A0%81%EF%BC%9A\"><span class=\"toc-text\">完整实例代码：</span></a></li></ol></li></ol>","author":{"name":"Arvin","slug":"blog-author","avatar":"/imgs/head.jpg","link":"/","description":"","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"hidden":false,"prev_post":{"title":"Three.Js开发WebGL动画实现与请求动画帧","uid":"25cfc3fbb38e9037315da011452084c9","slug":"ThreeJsWebGL_2022_4.19.03","date":"2022-04-19T10:01:00.000Z","updated":"2023-11-26T10:38:32.669Z","comments":true,"path":"api/articles/ThreeJsWebGL_2022_4.19.03.json","keywords":null,"cover":"https://pic3.zhimg.com/v2-7af105b5915de8a7fdcf6332b681aba5_r.jpg","text":"Three.Js开发WebGL动画实现与请求动画帧 Three.Js GitHub地址：点击跳转 Three.Js API说明文档：点击跳转 或复制网页端Thr...","link":"","photos":[],"count_time":{"symbolsCount":"5.5k","symbolsTime":"5 mins."},"categories":[{"name":"程序","slug":"程序","count":29,"path":"api/categories/程序.json"}],"tags":[{"name":"教学文档","slug":"教学文档","count":33,"path":"api/tags/教学文档.json"},{"name":"博客网站","slug":"博客网站","count":6,"path":"api/tags/博客网站.json"}],"author":{"name":"Arvin","slug":"blog-author","avatar":"/imgs/head.jpg","link":"/","description":"","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"feature":true},"next_post":{"title":"Three.Js开发WebGL创建三维空间","uid":"4091de74866dc5d796232e6bf95938a1","slug":"ThreeJsWebGL_2022_4.19.01","date":"2022-04-19T06:46:00.000Z","updated":"2023-11-26T10:38:32.669Z","comments":true,"path":"api/articles/ThreeJsWebGL_2022_4.19.01.json","keywords":null,"cover":"https://pic3.zhimg.com/v2-7af105b5915de8a7fdcf6332b681aba5_r.jpg","text":"Three.Js开发WebGL创建三维空间首先我们需要创建一个 HTML 文件 如：index.html 导入Three.Js 与 设置网页初始化 (边距为0 ...","link":"","photos":[],"count_time":{"symbolsCount":"6k","symbolsTime":"5 mins."},"categories":[{"name":"程序","slug":"程序","count":29,"path":"api/categories/程序.json"}],"tags":[{"name":"教学文档","slug":"教学文档","count":33,"path":"api/tags/教学文档.json"},{"name":"博客网站","slug":"博客网站","count":6,"path":"api/tags/博客网站.json"}],"author":{"name":"Arvin","slug":"blog-author","avatar":"/imgs/head.jpg","link":"/","description":"","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}}}